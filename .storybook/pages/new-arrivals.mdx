import { Meta } from "@storybook/addon-docs";
import { Center } from "../../packages/center/src";
import { Inline } from "../../packages/inline/src";
import { Button } from "../ui-components/Button";
import { Intl, NameSpace } from "../ui-components/Intl";
import cardInitial from "../assets/card-initial.png";
import cardStyled from "../assets/card-styled.png";
import columnDrop from "../assets/column-drop.png";
import grid from "../assets/grid.png";

<Meta
  title="Getting Started/Lesson 6: The New Arrivals"
  parameters={{ viewMode: "docs" }}
/>

# The New Arrivals

A UI pattern that is very popular in the web development world is to have a set of cards that are displayed in a grid-like layout. These cards might be products, blog posts, or anything else that you want to promote. Cards often have a cover image, a title, and a description, but they also come in many varieties.

## Building a Card Component

Let's start by creating a `Card` component with some basic markup. In our `src` directory, create a new file called `Card.js` and paste the following code into it.:

```jsx
export function Card() {
  return (
    <article>
      <img
        src="https://source.unsplash.com/random/900×700/?fruit"
        alt="A random fruit from unsplash.com"
      />
      <h3>Fruit</h3>
      <p>
        Est autem etiam actio quaedam corporis, quae motus et status naturae
        congruentis tenet;
      </p>
    </article>
  );
}
```

Now we can bring in this component into our `App.js` file. In our `App.js` file, paste the following code into the `App.js` file:

```jsx
import { Stack } from "@bedrock-layout/stack";
import { Inline } from "@bedrock-layout/inline";
import { Cover, CoverCentered } from "@bedrock-layout/cover";
import { Center } from "@bedrock-layout/center";

import { Subscribe } from "./Subscribe";
import { Menu } from "./Menu";
import { Card } from "./Card";

function App() {
  return (
    <Stack gap="size3">
      <Cover minHeight="50vh" gap="size3">
        <Menu />
        <CoverCentered>
          <Center maxWidth="40rem">
            <Stack as="header" gap="size3">
              <h1>Coco Le Belle</h1>
              <p>Elegant Feminine Fashion</p>
              <Inline gap="size3">
                <button>New Arrivals</button>
              </Inline>
            </Stack>
          </Center>
        </CoverCentered>
      </Cover>
      <Stack gap="size7">
        <h2>New Arrivals</h2>
        <Card />
      </Stack>
      <Center style={{ textAlign: "center" }}>
        <Subscribe />
      </Center>
    </Stack>
  );
}

export default App;
```

Your browser should now show something like this:

<Center style={{ display: "flex", justifyContent: "center" }}>
  <img
    style={{ maxWidth: 800 }}
    src={cardInitial}
    alt="The landing page with a New Arrivals showing a single card with no layout styling."
  />
</Center>

Typically in a card we want to do two things. First, we often want to set the image's aspect ratio to fit the design, cropping the image as needed. Second, we typically want to add padding around either the text or the whole card itself. To accomplish these goals, we can use the `Frame` primitive and apply padding via inline styles.

So let's start by downloading the `Frame` primitive:

```bash
yarn add @bedrock-layout/frame
```

And then let's update our `Card.js` file to look like this:

```jsx
import { Frame } from "@bedrock-layout/frame";
import { Stack } from "@bedrock-layout/stack";

//simulate text of various lengths
function randomLoremIpsum() {
  const string =
    "Est autem etiam actio quaedam corporis, quae motus et status naturae congruentis tenet;";

  return Array.from(
    { length: Math.floor(Math.random() * 6 + 1) },
    () => string,
  ).join(" ");
}

export function Card({ title }) {
  return (
    <Stack as="article" gap="size3">
      <Frame ratio={[16, 9]}>
        <img
          src={`https://source.unsplash.com/random/900×700/?${title}`}
          alt="A random fruit from unsplash.com"
        />
      </Frame>
      <div style={{ padding: "var(--spacing-size-5)" }}>
        <h3>{title}</h3>
        <p>{randomLoremIpsum()}</p>
      </div>
    </Stack>
  );
}
```

Now are Card takes a `title` prop and displays a `title` and a random image based off of that title. It will also generate a random lorem ipsum as the text.

now we can update our `App.js` file to add a `Fruit` to the `title` prop of the `Card` component and see what happens:

<Center style={{ display: "flex", justifyContent: "center" }}>
  <img
    style={{ maxWidth: 800 }}
    src={cardStyled}
    alt="The card now with the layout styles having been applied."
  />
</Center>

## A Grid of Cards

We have a `Card` component that we can use to display a card. Now we want to display them in a grid. There are a few options for this using Bedrock Layout Primitives. The correct one depends upon the type of layout you want to use. Let's try both options and you can decide which one you like the best.

First, we will need to install the `ColumnDrop` and the `Grid` components:

```bash
yarn add @bedrock-layout/column-drop @bedrock-layout/grid
```

Let's start by adding the `ColumnDrop` component to our `App.js` file:

```jsx
import { Stack } from "@bedrock-layout/stack";
import { Inline } from "@bedrock-layout/inline";
import { Cover, CoverCentered } from "@bedrock-layout/cover";
import { Center } from "@bedrock-layout/center";
import { ColumnDrop } from "@bedrock-layout/column-drop";

import { Subscribe } from "./Subscribe";
import { Menu } from "./Menu";
import { Card } from "./Card";

const cards = ["Fruit", "Bikes", "Clothes", "Shoes", "Computers"];

function App() {
  return (
    <Stack gap="size3">
      <Cover minHeight="50vh" gap="size3">
        <Menu />
        <CoverCentered>
          <Center maxWidth="40rem">
            <Stack as="header" gap="size3">
              <h1>Coco Le Belle</h1>
              <p>Elegant Feminine Fashion</p>
              <Inline gap="size3">
                <button>New Arrivals</button>
              </Inline>
            </Stack>
          </Center>
        </CoverCentered>
      </Cover>
      <Center>
        <Stack gap="size7">
          <h2>New Arrivals</h2>
          <ColumnDrop gap="size3" minItemWidth="20rem">
            {cards.map((title) => (
              <Card key={title} title={title} />
            ))}
          </ColumnDrop>
        </Stack>
      </Center>
      <Center style={{ textAlign: "center" }}>
        <Subscribe />
      </Center>
    </Stack>
  );
}

export default App;
```

Your browser should now show the following:

<Center style={{ display: "flex", justifyContent: "center" }}>
  <img
    style={{ maxWidth: 800 }}
    src={columnDrop}
    alt="The landing page with cards in a column drop layout."
  />
</Center>

The above picture shows the cards being optimized to the number of columns that fit the container based on the `minItemWidth` prop on the `ColumnDrop` component. When a column drops down to a new row, the previous row's column count does not affect the new row's layout. By default, each card will stretch, but you can pass `variant="centered"` to prevent stretching.

The next option is to use the `Grid` component. So let's update our `App.js` file to use the `Grid` component. We will also need to import the `Grid` component

```jsx
import { Grid } from "@bedrock-layout/grid";
```

Then we can update replace the `ColumnDrop` component with the `Grid` component:

```jsx
<Grid gap="size3" minItemWidth="20rem">
  {cards.map((title) => (
    <Card key={title} title={title} />
  ))}
</Grid>
```

Your browser should now show the following:

<Center style={{ display: "flex", justifyContent: "center" }}>
  <img
    style={{ maxWidth: 800 }}
    src={grid}
    alt="The landing page with cards in a grid layout."
  />
</Center>

Unlike the `ColumnDrop` the Grid will keep a consistent column count across rows. The column count is based on the `minItemWidth` set on the `Grid` component.

The `Grid` component provides a consistent column count across rows, making it ideal for displaying cards in a regular grid pattern.

It's important to note that both grid layouts will optimize based on their container, eventually creating a stacking layout when the container is too small. The difference between the two layouts is how the columns and rows are distributed.

## What Next?

In just a few short lessons we now a well laid out landing page. You can see the power of how easy it is to create so many complicated layouts with these simple layout primitives. I recomend you check out the rest of the Bedrock Layout Primitives. Also check out the [CSS only version of the Bedrock Layout Primitives](/docs/css-only-a-css-only-version--docs) in case you are interested in using them in a project that is not using React.

If you are interested in contributing you can learn more about [contributing code to Bedrock](/docs/overview-contributing--docs) or [you can open an issue any time at the GitHub repo](https://github.com/Bedrock-Layouts/Bedrock/issues).

Thank you again for taking the time to learn more about Bedrock Layout Primitives. I hope you enjoyed it.

<Inline gap="size3" minItemWidth="fit-content">
  <Button as="a" href="/?path=/docs/getting-started-lesson-5-the-hero--docs">
    <Intl>The Hero</Intl>
  </Button>
</Inline>
